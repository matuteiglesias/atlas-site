"use strict";(self.webpackChunkatlas_site=self.webpackChunkatlas_site||[]).push([[4184],{7595:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>t,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"referencia/nucleo/referencia_nucleo_dbml_fuente_de_verdad","title":"DBML \u2014 Fuente de verdad para pobreza y hogares","description":"Principios de modelado","source":"@site/docs/referencia/nucleo/dbml_fuente_de_verdad.md","sourceDirName":"referencia/nucleo","slug":"/referencia/nucleo/dbml_fuente_de_verdad","permalink":"/atlas-site/docs/referencia/nucleo/dbml_fuente_de_verdad","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/referencia/nucleo/dbml_fuente_de_verdad.md","tags":[{"inline":true,"label":"dbml","permalink":"/atlas-site/docs/tags/dbml"},{"inline":true,"label":"schema","permalink":"/atlas-site/docs/tags/schema"},{"inline":true,"label":"claves","permalink":"/atlas-site/docs/tags/claves"},{"inline":true,"label":"hogares","permalink":"/atlas-site/docs/tags/hogares"},{"inline":true,"label":"personas","permalink":"/atlas-site/docs/tags/personas"},{"inline":true,"label":"geo","permalink":"/atlas-site/docs/tags/geo"},{"inline":true,"label":"pobreza","permalink":"/atlas-site/docs/tags/pobreza"}],"version":"current","frontMatter":{"id":"referencia_nucleo_dbml_fuente_de_verdad","title":"DBML \u2014 Fuente de verdad para pobreza y hogares","slug":"/referencia/nucleo/dbml_fuente_de_verdad","module":"referencia-nucleo","version":"0.2.0","status":"draft","owners":["atlas-core"],"tags":["dbml","schema","claves","hogares","personas","geo","pobreza"],"source_repo":"<repo-url>","source_path":"docs/referencia/nucleo/dbml_fuente_de_verdad.mdx","schema_ref":"/downloads/atlas.dbml","time_grain":"Q (ingresos/pobreza), A (geo)","join_policy":"Temporal: (A\u2194Q) via adaptador; Llaves: HOGAR_REF_ID, ID (persona), claves geo"},"sidebar":"tutorialSidebar","previous":{"title":"Censo 2010: variables y armonizaci\xf3n Censo\u2194EPH","permalink":"/atlas-site/docs/referencia/nucleo/censo_2010_variables"},"next":{"title":"Geo","permalink":"/atlas-site/docs/category/geo"}}');var o=s(4848),c=s(8453);const i={id:"referencia_nucleo_dbml_fuente_de_verdad",title:"DBML \u2014 Fuente de verdad para pobreza y hogares",slug:"/referencia/nucleo/dbml_fuente_de_verdad",module:"referencia-nucleo",version:"0.2.0",status:"draft",owners:["atlas-core"],tags:["dbml","schema","claves","hogares","personas","geo","pobreza"],source_repo:"<repo-url>",source_path:"docs/referencia/nucleo/dbml_fuente_de_verdad.mdx",schema_ref:"/downloads/atlas.dbml",time_grain:"Q (ingresos/pobreza), A (geo)",join_policy:"Temporal: (A\u2194Q) via adaptador; Llaves: HOGAR_REF_ID, ID (persona), claves geo"},d=void 0,l={},a=[{value:"Principios de modelado",id:"principios-de-modelado",level:2},{value:"Esquema DBML (consolidado)",id:"esquema-dbml-consolidado",level:2},{value:"Diccionario de claves y temporalidad (contrato)",id:"diccionario-de-claves-y-temporalidad-contrato",level:2},{value:"Contratos m\xednimos de datos",id:"contratos-m\xednimos-de-datos",level:2},{value:"QA de integridad (fallar el build si no se cumple)",id:"qa-de-integridad-fallar-el-build-si-no-se-cumple",level:2},{value:"Snippets de uso (merges can\xf3nicos)",id:"snippets-de-uso-merges-can\xf3nicos",level:2}];function h(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"principios-de-modelado",children:"Principios de modelado"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Claves estables"}),": ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"})," (hogar), ",(0,o.jsx)(n.code,{children:"ID"})," (persona)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Temporalidad"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Trimestral (Q)"})," para ingresos/pobreza."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Anual (YEAR/ANO4)"})," para dimensi\xf3n geogr\xe1fica (hogares y personas)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Uniones can\xf3nicas"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Personas (trimestral): ",(0,o.jsx)(n.code,{children:"personas_ingresos_Q"})," \u2a1d ",(0,o.jsx)(n.code,{children:"pobreza_hogares"})," por (",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"Q"}),"), y \u2a1d geo por (",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"YEAR"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:["Hogares (trimestral): ",(0,o.jsx)(n.code,{children:"pobreza_hogares"})," \u2a1d ",(0,o.jsx)(n.code,{children:"hogares_geo"})," por (",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"YEAR"}),"). "]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Nota de deduplicaci\xf3n: unificamos nombres y roles:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mantener"})," ",(0,o.jsx)(n.code,{children:"personas_ingresos_Q"})," (deprecar alias ",(0,o.jsx)(n.code,{children:"personas_ingresos_Q_df"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mantener"})," ",(0,o.jsx)(n.code,{children:"personas_geo"})," y ",(0,o.jsx)(n.code,{children:"hogares_geo"})," como dimensiones ",(0,o.jsx)(n.strong,{children:"anuales"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mantener"})," ",(0,o.jsx)(n.code,{children:"pobreza_hogares"})," como ",(0,o.jsx)(n.strong,{children:"hecho trimestral a nivel hogar"}),". "]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"esquema-dbml-consolidado",children:"Esquema DBML (consolidado)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dbml",children:"Project atlas {\n  database_type: \"postgres\"\n  Note: 'Q es ISO-8601 ancla trimestral (p.ej., 2022-05-15). YEAR/ANO4 anual.'\n}\n\n/* ===================== DIMENSIONES GEO (ANUAL) ===================== */\n\nTable hogares_geo {\n  HOGAR_REF_ID varchar [not null]                // clave hogar\n  YEAR int [not null]                             // a\xf1o de referencia (geo)\n  RADIO_REF_ID varchar                           // radio censal\n  AGLOMERADO int                                 // c\xf3digo aglomerado\n  FRAC_REF_ID varchar                            // fracci\xf3n\n  DPTO int                                       // departamento\n  NOMDPTO varchar                                // nombre dpto\n  PROV int                                       // provincia\n  NOMPROV varchar                                // nombre prov\n  Region varchar                                 // regi\xf3n\n  COD_2010 varchar                               // clave IGN/CONICET 2010\n  distrito_id varchar\n  seccion_id varchar\n  seccion_nombre varchar\n  circuito varchar\n  IN1 varchar\n  NAM varchar\n\n  Note: 'Clave compuesta anual permite cambios de localizaci\xf3n.'\n  Indexes {\n    (HOGAR_REF_ID, YEAR) [pk]\n    PROV\n    DPTO\n    AGLOMERADO\n  }\n}\n\nTable personas_geo {\n  ID varchar [not null]                           // persona\n  HOGAR_REF_ID varchar [not null]                 // hogar de la persona\n  ANO4 int [not null]                             // a\xf1o geo de persona\n  RADIO_REF_ID varchar\n  AGLOMERADO int\n  DPTO int\n  NOMDPTO varchar\n  PROV int\n  NOMPROV varchar\n  Region varchar\n  COD_2010 varchar\n  IDFRAC varchar\n  IN1 varchar\n  circuito varchar\n\n  Indexes {\n    (ID, ANO4) [pk]\n    (HOGAR_REF_ID, ANO4)\n    PROV\n    DPTO\n    AGLOMERADO\n  }\n\n  Ref: personas_geo.HOGAR_REF_ID > hogares_geo.HOGAR_REF_ID\n}\n\n/* ===================== HECHOS (TRIMESTRAL) ===================== */\n\nTable personas_ingresos_Q {\n  ID varchar [not null]                           // persona\n  HOGAR_REF_ID varchar [not null]                 // hogar\n  Q date [not null]                               // ancla trimestral ISO\n  P47T_persona numeric                            // ingreso persona\n  P02 int\n  P03 int\n  P09 int\n  P10 int\n  P0910 int\n\n  Indexes {\n    (ID, Q) [pk]\n    HOGAR_REF_ID\n  }\n\n  Ref: personas_ingresos_Q.HOGAR_REF_ID > hogares_geo.HOGAR_REF_ID\n  Ref: personas_ingresos_Q.ID > personas_geo.ID\n}\n\nTable pobreza_hogares {\n  HOGAR_REF_ID varchar [not null]\n  Q date [not null]\n  P47T_hogar numeric\n  CBA numeric\n  CBT numeric\n  CB_EQUIV numeric\n  Pobreza boolean\n  Indigencia boolean\n  gap_pobreza numeric\n  gap_indigencia numeric\n\n  Indexes {\n    (HOGAR_REF_ID, Q) [pk]\n  }\n\n  Ref: pobreza_hogares.HOGAR_REF_ID > hogares_geo.HOGAR_REF_ID\n}\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Las tres tablas ",(0,o.jsx)(n.code,{children:"personas_ingresos_Q"}),", ",(0,o.jsx)(n.code,{children:"pobreza_hogares"}),", ",(0,o.jsx)(n.code,{children:"hogares_geo"})," y la dimensi\xf3n ",(0,o.jsx)(n.code,{children:"personas_geo"})," aparecen como el n\xfacleo para combinar ingresos, pobreza y geo, con merges can\xf3nicos sobre ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"})," y ",(0,o.jsx)(n.code,{children:"Q"}),". "]}),"\n",(0,o.jsx)(n.li,{children:"La dimensi\xf3n geo se documenta con provincias/departamentos/fracciones/c\xf3digos 2010 y se usa para generar GeoJSON y agregaciones espaciales. "}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"diccionario-de-claves-y-temporalidad-contrato",children:"Diccionario de claves y temporalidad (contrato)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Claves entidad"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Hogar: ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"})," (string estable)."]}),"\n",(0,o.jsxs)(n.li,{children:["Persona: ",(0,o.jsx)(n.code,{children:"ID"})," (string estable)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Claves geo"})," (anuales): ",(0,o.jsx)(n.code,{children:"PROV"}),", ",(0,o.jsx)(n.code,{children:"DPTO"}),", ",(0,o.jsx)(n.code,{children:"AGLOMERADO"}),", ",(0,o.jsx)(n.code,{children:"RADIO_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"FRAC_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"COD_2010"}),", ",(0,o.jsx)(n.code,{children:"Region"}),". "]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Tiempo"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Q"}),": fecha ISO ancla de trimestre, ",(0,o.jsx)(n.strong,{children:"DATE"})," (ej. ",(0,o.jsx)(n.code,{children:"2022-05-15"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"YEAR/ANO4"}),": entero anual."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Uniones"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Trimestral: (",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"Q"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:["Geo anual: (",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"YEAR"}),") / (",(0,o.jsx)(n.code,{children:"ID"}),", ",(0,o.jsx)(n.code,{children:"ANO4"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Anti-joins"})," obligatorios en build**:** detectar claves que no matchean entre hechos y dimensiones (reportar % faltantes)."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"contratos-m\xednimos-de-datos",children:"Contratos m\xednimos de datos"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Exportables can\xf3nicos (contrato de nombres):"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"downloads/atlas.dbml"})," \u2014 esquema completo DBML (este documento)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports/pobreza_hogares_Q.csv"})," \u2014 ",(0,o.jsx)(n.strong,{children:"hecho trimestral"})," (hogar)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports/personas_ingresos_Q.csv"})," \u2014 ",(0,o.jsx)(n.strong,{children:"hecho trimestral"})," (persona)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports/hogares_geo_YEAR.parquet"})," \u2014 ",(0,o.jsx)(n.strong,{children:"dimensi\xf3n anual"})," (hogar)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports/personas_geo_YEAR.parquet"})," \u2014 ",(0,o.jsx)(n.strong,{children:"dimensi\xf3n anual"})," (persona). "]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Columnas m\xednimas por exportable:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"pobreza_hogares_Q.csv"}),": ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"Q"}),", ",(0,o.jsx)(n.code,{children:"P47T_hogar"}),", ",(0,o.jsx)(n.code,{children:"CBA"}),", ",(0,o.jsx)(n.code,{children:"CBT"}),", ",(0,o.jsx)(n.code,{children:"CB_EQUIV"}),", ",(0,o.jsx)(n.code,{children:"Pobreza"}),", ",(0,o.jsx)(n.code,{children:"Indigencia"}),", ",(0,o.jsx)(n.code,{children:"gap_pobreza"}),", ",(0,o.jsx)(n.code,{children:"gap_indigencia"}),". "]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"personas_ingresos_Q.csv"}),": ",(0,o.jsx)(n.code,{children:"ID"}),", ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"Q"}),", ",(0,o.jsx)(n.code,{children:"P47T_persona"}),", ",(0,o.jsx)(n.code,{children:"P02"}),", ",(0,o.jsx)(n.code,{children:"P03"}),", ",(0,o.jsx)(n.code,{children:"P09"}),", ",(0,o.jsx)(n.code,{children:"P10"}),", ",(0,o.jsx)(n.code,{children:"P0910"}),". "]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"hogares_geo_YEAR.parquet"}),": ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"YEAR"}),", ",(0,o.jsx)(n.code,{children:"RADIO_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"AGLOMERADO"}),", ",(0,o.jsx)(n.code,{children:"FRAC_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"DPTO"}),", ",(0,o.jsx)(n.code,{children:"NOMDPTO"}),", ",(0,o.jsx)(n.code,{children:"PROV"}),", ",(0,o.jsx)(n.code,{children:"NOMPROV"}),", ",(0,o.jsx)(n.code,{children:"Region"}),", ",(0,o.jsx)(n.code,{children:"COD_2010"}),", ",(0,o.jsx)(n.code,{children:"distrito_id"}),", ",(0,o.jsx)(n.code,{children:"seccion_id"}),", ",(0,o.jsx)(n.code,{children:"seccion_nombre"}),", ",(0,o.jsx)(n.code,{children:"circuito"}),", ",(0,o.jsx)(n.code,{children:"IN1"}),", ",(0,o.jsx)(n.code,{children:"NAM"}),". "]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"personas_geo_YEAR.parquet"}),": ",(0,o.jsx)(n.code,{children:"ID"}),", ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"ANO4"}),", ",(0,o.jsx)(n.code,{children:"RADIO_REF_ID"}),", ",(0,o.jsx)(n.code,{children:"AGLOMERADO"}),", ",(0,o.jsx)(n.code,{children:"DPTO"}),", ",(0,o.jsx)(n.code,{children:"NOMDPTO"}),", ",(0,o.jsx)(n.code,{children:"PROV"}),", ",(0,o.jsx)(n.code,{children:"NOMPROV"}),", ",(0,o.jsx)(n.code,{children:"Region"}),", ",(0,o.jsx)(n.code,{children:"COD_2010"}),", ",(0,o.jsx)(n.code,{children:"IDFRAC"}),", ",(0,o.jsx)(n.code,{children:"IN1"}),", ",(0,o.jsx)(n.code,{children:"circuito"}),". "]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Pol\xedtica temporal y citaci\xf3n:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pol\xedtica temporal"}),": hechos trimestrales (",(0,o.jsx)(n.code,{children:"Q"}),"), dimensiones anuales (",(0,o.jsx)(n.code,{children:"YEAR/ANO4"}),"); cuando se crucen, usar adaptador ",(0,o.jsx)(n.strong,{children:"A\u2194Q"})," definido en el m\xf3dulo temporal (resample/forward-fill expl\xedcito)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Fuentes"}),": EPH (trimestral), Censo 2010. Documentadas en CoreRef y cat\xe1logos. "]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"qa-de-integridad-fallar-el-build-si-no-se-cumple",children:"QA de integridad (fallar el build si no se cumple)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Unicidad"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"uniq(HOGAR_REF_ID, Q)"})," en ",(0,o.jsx)(n.code,{children:"pobreza_hogares"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"uniq(ID, Q)"})," en ",(0,o.jsx)(n.code,{children:"personas_ingresos_Q"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"uniq(HOGAR_REF_ID, YEAR)"})," en ",(0,o.jsx)(n.code,{children:"hogares_geo"}),"; ",(0,o.jsx)(n.code,{children:"uniq(ID, ANO4)"})," en ",(0,o.jsx)(n.code,{children:"personas_geo"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cobertura de FKs"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"% faltantes"})," de ",(0,o.jsx)(n.code,{children:"HOGAR_REF_ID"})," entre hechos y dimensiones < 0.1%."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Consistencia temporal"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Prohibir joins A\u2194Q sin adaptador expl\xedcito."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Dominios"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Pobreza/Indigencia"})," \u2208 ",!1,"; ",(0,o.jsx)(n.code,{children:"AGLOMERADO"}),", ",(0,o.jsx)(n.code,{children:"PROV"}),", ",(0,o.jsx)(n.code,{children:"DPTO"})," num\xe9ricos; ",(0,o.jsx)(n.code,{children:"Region"})," en cat\xe1logo."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Drift geo"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Chequear que cambios en geo (YEAR vs Q) queden documentados (diffs de clave)."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Reproducibilidad"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"sha256"})," verificado para cada export y ",(0,o.jsx)(n.code,{children:"schema_ref"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"snippets-de-uso-merges-can\xf3nicos",children:"Snippets de uso (merges can\xf3nicos)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"-- Hogar trimestral con geo anual (join con YEAR derivado de Q)\nSELECT h.*, g.PROV, g.DPTO, g.Region\nFROM pobreza_hogares h\nJOIN hogares_geo g\n  ON g.HOGAR_REF_ID = h.HOGAR_REF_ID\n AND g.YEAR = EXTRACT(YEAR FROM h.Q);\n\n-- Personas trimestral + hogar trimestral + geo\nSELECT p.ID, p.Q, p.P47T_persona, h.Pobreza, h.Indigencia, gg.AGLOMERADO\nFROM personas_ingresos_Q p\nJOIN pobreza_hogares h USING (HOGAR_REF_ID, Q)\nJOIN hogares_geo gg\n  ON gg.HOGAR_REF_ID = p.HOGAR_REF_ID\n AND gg.YEAR = EXTRACT(YEAR FROM p.Q);\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Los merges ",(0,o.jsx)(n.code,{children:"info_personas"})," e ",(0,o.jsx)(n.code,{children:"info_hogares"})," y el set de columnas clave provienen de tus fichas de \u201cM\xe9tricas de pobreza por hogar\u201d y \u201cEstructura de datos\u201d. "]}),"\n",(0,o.jsxs)(n.li,{children:["La presencia de ",(0,o.jsx)(n.strong,{children:"outputs JSON/CSV"})," para resultados y series (con ",(0,o.jsx)(n.code,{children:"observable"}),", ",(0,o.jsx)(n.code,{children:"sintetico"}),", ",(0,o.jsx)(n.code,{children:"Q"}),", ",(0,o.jsx)(n.code,{children:"frac"}),") justific\xf3 separar hechos de dimensiones y fijar los contratos de exportaci\xf3n. "]}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var r=s(6540);const o={},c=r.createContext(o);function i(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);