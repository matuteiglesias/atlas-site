"use strict";(self.webpackChunkatlas_site=self.webpackChunkatlas_site||[]).push([[6367],{7074:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"pocket/pocket_github_secrets_quickref","title":"GitHub Secrets \u2014 quick-ref","description":"Prop\xf3sito","source":"@site/docs/pocket/github_secrets_quickref.md","sourceDirName":"pocket","slug":"/pocket/github_secrets_quickref","permalink":"/atlas-site/docs/pocket/github_secrets_quickref","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"github","permalink":"/atlas-site/docs/tags/github"},{"inline":true,"label":"actions","permalink":"/atlas-site/docs/tags/actions"},{"inline":true,"label":"secrets","permalink":"/atlas-site/docs/tags/secrets"},{"inline":true,"label":"pat","permalink":"/atlas-site/docs/tags/pat"},{"inline":true,"label":"ci","permalink":"/atlas-site/docs/tags/ci"}],"version":"current","frontMatter":{"id":"pocket_github_secrets_quickref","title":"GitHub Secrets \u2014 quick-ref","slug":"/pocket/github_secrets_quickref","module":"apendice-pocket","version":"0.1.0","status":"draft","owners":["atlas-core"],"tags":["github","actions","secrets","pat","ci"],"source_repo":"https://github.com/matuteiglesias/atlas-site","source_path":"docs/pocket/github_secrets_quickref.md"},"sidebar":"tutorialSidebar","previous":{"title":"Git push \u2014 objetos y conteo","permalink":"/atlas-site/docs/pocket/git_push_internals"},"next":{"title":"Tablas HTML de descargas","permalink":"/atlas-site/docs/pocket/html_tables_downloads"}}');var r=t(4848),o=t(8453);const i={id:"pocket_github_secrets_quickref",title:"GitHub Secrets \u2014 quick-ref",slug:"/pocket/github_secrets_quickref",module:"apendice-pocket",version:"0.1.0",status:"draft",owners:["atlas-core"],tags:["github","actions","secrets","pat","ci"],source_repo:"https://github.com/matuteiglesias/atlas-site",source_path:"docs/pocket/github_secrets_quickref.md"},c=void 0,l={},a=[{value:"Prop\xf3sito",id:"prop\xf3sito",level:2},{value:"Hechos clave",id:"hechos-clave",level:2},{value:"Listar nombres de secrets",id:"listar-nombres-de-secrets",level:2},{value:"V\xeda GitHub CLI",id:"v\xeda-github-cli",level:3},{value:"Desde un workflow (solo nombres)",id:"desde-un-workflow-solo-nombres",level:3},{value:"Uso correcto en YAML (dispatch a otro repo)",id:"uso-correcto-en-yaml-dispatch-a-otro-repo",level:2},{value:"\u201cBad credentials\u201d \u2014 mini-runbook",id:"bad-credentials--mini-runbook",level:2},{value:"QA m\xednimo",id:"qa-m\xednimo",level:2}];function d(e){const s={blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"prop\xf3sito",children:"Prop\xf3sito"}),"\n",(0,r.jsxs)(s.p,{children:["Recordatorio m\xednimo para ",(0,r.jsx)(s.strong,{children:"listar/usar"})," ",(0,r.jsx)(s.em,{children:"secrets"})," y resolver el cl\xe1sico ",(0,r.jsx)(s.strong,{children:"\u201cBad credentials\u201d"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"hechos-clave",children:"Hechos clave"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Los ",(0,r.jsx)(s.strong,{children:"valores"})," de los secrets ",(0,r.jsx)(s.strong,{children:"no se pueden ver"})," una vez seteados (solo los ",(0,r.jsx)(s.strong,{children:"nombres"}),"). Gesti\xf3n desde ",(0,r.jsx)(s.em,{children:"Settings \u2192 Secrets and variables \u2192 Actions"}),", o por CLI. "]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"listar-nombres-de-secrets",children:"Listar nombres de secrets"}),"\n",(0,r.jsx)(s.h3,{id:"v\xeda-github-cli",children:"V\xeda GitHub CLI"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"brew install gh     # macOS\nsudo apt install gh # Linux\ngh auth login\ngh secret list\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Muestra ",(0,r.jsx)(s.strong,{children:"nombres"})," (no valores). "]}),"\n",(0,r.jsx)(s.h3,{id:"desde-un-workflow-solo-nombres",children:"Desde un workflow (solo nombres)"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"name: List Secrets\non: [push]\njobs:\n  list-secrets:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Display secret names\n        run: |\n          echo \"Available secrets:\"\n          echo ${{ toJSON(secrets) }} | jq 'keys[]'\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Imprime las ",(0,r.jsx)(s.strong,{children:"keys"})," disponibles. \xdatil para auditar naming. "]}),"\n",(0,r.jsx)(s.h2,{id:"uso-correcto-en-yaml-dispatch-a-otro-repo",children:"Uso correcto en YAML (dispatch a otro repo)"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:'- name: Send repository dispatch event\n  run: |\n    curl -X POST \\\n      -H "Accept: application/vnd.github.v3+json" \\\n      -H "Authorization: token ${{ secrets.gh-auth-token }}" \\\n      https://api.github.com/repos/<owner>/<repo>/dispatches \\\n      -d \'{"event_type":"models-updated"}\'\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Asegurate de referenciar el ",(0,r.jsx)(s.strong,{children:"nombre real"})," del secret (no placeholders). "]}),"\n",(0,r.jsx)(s.h2,{id:"bad-credentials--mini-runbook",children:"\u201cBad credentials\u201d \u2014 mini-runbook"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nombre del secret"})," en YAML coincide con Settings. "]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Scopes del PAT"}),": ",(0,r.jsx)(s.code,{children:"repo"}),", ",(0,r.jsx)(s.code,{children:"workflow"}),". "]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Regenerar PAT"})," si hay dudas y volver a guardarlo como secret. "]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Espacios extra"})," al copiar/pegar \u2192 eliminar. "]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"URL del repo destino"})," exacta. "]}),"\n"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Si el problema persiste, migrar a Octokit para mejor manejo de errores o usar ",(0,r.jsx)(s.code,{children:"workflow_dispatch"})," seg\xfan ownership/permisos. "]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"qa-m\xednimo",children:"QA m\xednimo"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Job de prueba que liste ",(0,r.jsx)(s.strong,{children:"solo nombres"})," (sin exponer valores). "]}),"\n",(0,r.jsxs)(s.li,{children:["Acci\xf3n de ",(0,r.jsx)(s.code,{children:"dispatch"})," deja ",(0,r.jsx)(s.em,{children:"green"})," en origen y evento recibido en destino (logs de ambos)."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>c});var n=t(6540);const r={},o=n.createContext(r);function i(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);