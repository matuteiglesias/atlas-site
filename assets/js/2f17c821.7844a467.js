"use strict";(self.webpackChunkatlas_site=self.webpackChunkatlas_site||[]).push([[8133],{6715:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"pocket/pocket_dataframe_styling","title":"DataFrames con barras (Styler)","description":"Prop\xf3sito","source":"@site/docs/pocket/dataframe_styling.md","sourceDirName":"pocket","slug":"/pocket/dataframe_styling","permalink":"/atlas-site/docs/pocket/dataframe_styling","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"pandas","permalink":"/atlas-site/docs/tags/pandas"},{"inline":true,"label":"styler","permalink":"/atlas-site/docs/tags/styler"},{"inline":true,"label":"barras","permalink":"/atlas-site/docs/tags/barras"},{"inline":true,"label":"formato","permalink":"/atlas-site/docs/tags/formato"}],"version":"current","frontMatter":{"id":"pocket_dataframe_styling","title":"DataFrames con barras (Styler)","slug":"/pocket/dataframe_styling","module":"apendice-pocket","version":"0.1.0","status":"draft","owners":["atlas-core"],"tags":["pandas","styler","barras","formato"],"source_repo":"https://github.com/matuteiglesias/atlas-site","source_path":"docs/pocket/dataframe_styling.md"},"sidebar":"tutorialSidebar","previous":{"title":"CSS para PDFs (A4 landscape)","permalink":"/atlas-site/docs/pocket/css_pdf_landscape"},"next":{"title":"Batch-update HTML (find+sed)","permalink":"/atlas-site/docs/pocket/find_sed_html"}}');var n=s(4848),r=s(8453);const o={id:"pocket_dataframe_styling",title:"DataFrames con barras (Styler)",slug:"/pocket/dataframe_styling",module:"apendice-pocket",version:"0.1.0",status:"draft",owners:["atlas-core"],tags:["pandas","styler","barras","formato"],source_repo:"https://github.com/matuteiglesias/atlas-site",source_path:"docs/pocket/dataframe_styling.md"},l=void 0,i={},c=[{value:"Prop\xf3sito",id:"prop\xf3sito",level:2},{value:"Barras alineadas en cero (rango global)",id:"barras-alineadas-en-cero-rango-global",level:2},{value:"Formateo en notaci\xf3n ingenieril (k/M/G)",id:"formateo-en-notaci\xf3n-ingenieril-kmg",level:2},{value:"Tips operativos",id:"tips-operativos",level:3}];function d(e){const a={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"prop\xf3sito",children:"Prop\xf3sito"}),"\n",(0,n.jsxs)(a.p,{children:["Snippets cortos para ",(0,n.jsx)(a.strong,{children:"barras horizontales"})," y ",(0,n.jsx)(a.strong,{children:"notaci\xf3n ingenieril"})," en ",(0,n.jsx)(a.code,{children:"pandas.DataFrame.style"}),". \xdatil para tabulados \u201cde lectura r\xe1pida\u201d en notebooks."]}),"\n",(0,n.jsx)(a.h2,{id:"barras-alineadas-en-cero-rango-global",children:"Barras alineadas en cero (rango global)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'def style_with_bars(df, cols):\n    vmax = df[cols].abs().max().max()\n    return (df.style\n              .bar(subset=cols, align="zero", vmin=-vmax, vmax=vmax, width=100))\n'})}),"\n",(0,n.jsx)(a.h2,{id:"formateo-en-notaci\xf3n-ingenieril-kmg",children:"Formateo en notaci\xf3n ingenieril (k/M/G)"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'def eng(x):\n    if x == 0 or x is None: return "0"\n    mags = "kMGTPEZY"\n    m = 0\n    while abs(x) >= 1000 and m < len(mags):\n        x /= 1000.0; m += 1\n    return f"{x:.0f}{mags[m-1]}" if m else f"{x:.0f}"\n\ndef style_bars_eng(df, cols):\n    s = style_with_bars(df, cols)\n    return s.format(eng, subset=cols)\n'})}),"\n",(0,n.jsx)(a.h3,{id:"tips-operativos",children:"Tips operativos"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"vmax global"})," para comparabilidad entre columnas."]}),"\n",(0,n.jsxs)(a.li,{children:["A\xf1ad\xed ",(0,n.jsx)(a.code,{children:'.format("{:.0e}")'})," si prefer\xeds cient\xedfica."]}),"\n",(0,n.jsxs)(a.li,{children:["Si el DF es grande, ",(0,n.jsx)(a.strong,{children:"muestra"})," pocas columnas para performance."]}),"\n"]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["Para gu\xedas completas y escalas de color en Mapbox, ver ",(0,n.jsx)(a.strong,{children:"/metodos/charts_and_styles"}),"."]}),"\n"]})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,a,s)=>{s.d(a,{R:()=>o,x:()=>l});var t=s(6540);const n={},r=t.createContext(n);function o(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);