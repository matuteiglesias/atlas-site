"use strict";(self.webpackChunkatlas_site=self.webpackChunkatlas_site||[]).push([[8092],{4341:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"pocket/pocket_git_large_files","title":"Git \u2014 archivos grandes (BFG/LFS)","description":"Problema","source":"@site/docs/pocket/git_large_files.md","sourceDirName":"pocket","slug":"/pocket/git_large_files","permalink":"/atlas-site/docs/pocket/git_large_files","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"git","permalink":"/atlas-site/docs/tags/git"},{"inline":true,"label":"large-files","permalink":"/atlas-site/docs/tags/large-files"},{"inline":true,"label":"bfg","permalink":"/atlas-site/docs/tags/bfg"},{"inline":true,"label":"lfs","permalink":"/atlas-site/docs/tags/lfs"},{"inline":true,"label":"history","permalink":"/atlas-site/docs/tags/history"},{"inline":true,"label":"troubleshooting","permalink":"/atlas-site/docs/tags/troubleshooting"}],"version":"current","frontMatter":{"id":"pocket_git_large_files","title":"Git \u2014 archivos grandes (BFG/LFS)","slug":"/pocket/git_large_files","module":"apendice-pocket","version":"0.1.0","status":"draft","owners":["atlas-core"],"tags":["git","large-files","bfg","lfs","history","troubleshooting"],"source_repo":"<repo-url>","source_path":"docs/pocket/git_large_files.md"},"sidebar":"tutorialSidebar","previous":{"title":"GeoPandas plot \u2014 pre-checks","permalink":"/atlas-site/docs/pocket/geo_plot_prechecks"},"next":{"title":"Git push \u2014 objetos y conteo","permalink":"/atlas-site/docs/pocket/git_push_internals"}}');var n=s(4848),t=s(8453);const o={id:"pocket_git_large_files",title:"Git \u2014 archivos grandes (BFG/LFS)",slug:"/pocket/git_large_files",module:"apendice-pocket",version:"0.1.0",status:"draft",owners:["atlas-core"],tags:["git","large-files","bfg","lfs","history","troubleshooting"],source_repo:"<repo-url>",source_path:"docs/pocket/git_large_files.md"},l=void 0,a={},c=[{value:"Problema",id:"problema",level:2},{value:"Verificaciones r\xe1pidas",id:"verificaciones-r\xe1pidas",level:2},{value:"Remedios (elige seg\xfan impacto)",id:"remedios-elige-seg\xfan-impacto",level:2},{value:"Contrato m\xednimo (pol\xedtica)",id:"contrato-m\xednimo-pol\xedtica",level:2}];function d(e){const i={code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"problema",children:"Problema"}),"\n",(0,n.jsxs)(i.p,{children:["GitHub bloquea el push por archivos >100 MB en ",(0,n.jsx)(i.strong,{children:"historia"})," (aunque hoy ya no est\xe9n en ",(0,n.jsx)(i.code,{children:"HEAD"}),"). Necesit\xe1s ",(0,n.jsx)(i.strong,{children:"verificar"})," si siguen referenciados y ",(0,n.jsx)(i.strong,{children:"purgarlos"})," correctamente. "]}),"\n",(0,n.jsx)(i.h2,{id:"verificaciones-r\xe1pidas",children:"Verificaciones r\xe1pidas"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"# 1) \xbfQu\xe9 se va a empujar?\ngit diff --stat origin/main main\n\n# 2) \xbfSigue en la historia?\ngit log -- path/grande.csv\n\n# 3) Objetos y tama\xf1os del commit actual\ngit ls-tree -r -l HEAD | sort -k4 -n | tail\n\n# 4) Objetos hu\xe9rfanos (post-limpieza)\ngit fsck --dangling\n\n# 5) Tama\xf1o del repositorio (orientativo)\ndu -sh .git/\n"})}),"\n",(0,n.jsxs)(i.p,{children:["Si aparece en (1) o (2), ",(0,n.jsx)(i.strong,{children:"sigue en el diferencial"})," que vas a empujar. (3\u20135) ayudan a confirmar limpieza y a diagnosticar bloat. "]}),"\n",(0,n.jsx)(i.h2,{id:"remedios-elige-seg\xfan-impacto",children:"Remedios (elige seg\xfan impacto)"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"A. Reescribir commits recientes (squash / interactive rebase)"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Compact\xe1 los commits donde se agreg\xf3 y luego se borr\xf3."}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.em,{children:"Luego"})," remov\xe9 los pesados del staging y ",(0,n.jsx)(i.strong,{children:"force push"}),"."]}),"\n",(0,n.jsx)(i.li,{children:"Avisar al equipo (todos deber\xe1n re-clone/reset). "}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"B. Purgado hist\xf3rico (BFG o filter-branch)"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"BFG Repo-Cleaner"})," (preferido por simplicidad) o ",(0,n.jsx)(i.code,{children:"git filter-branch"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Reescribe historia, requiere ",(0,n.jsx)(i.strong,{children:(0,n.jsx)(i.code,{children:"--force"})})," al pushear."]}),"\n",(0,n.jsxs)(i.li,{children:["Post-limpieza: ",(0,n.jsx)(i.code,{children:"git gc"})," y verificaci\xf3n con ",(0,n.jsx)(i.code,{children:"git fsck --dangling"}),". "]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"C. Si est\xe1n untracked pero molestan"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Elimin\xe1 los archivos del working dir para evitar commits accidentales."}),"\n",(0,n.jsxs)(i.li,{children:["Consider\xe1 ",(0,n.jsx)(i.code,{children:".gitignore"})," o ",(0,n.jsx)(i.strong,{children:"Git LFS"})," si deb\xe9s versionarlos. "]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"contrato-m\xednimo-pol\xedtica",children:"Contrato m\xednimo (pol\xedtica)"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"No"})," versionar binarios >50 MB en repos de c\xf3digo."]}),"\n",(0,n.jsxs)(i.li,{children:["Artefactos \u2192 releases/almacenamiento externo; o ",(0,n.jsx)(i.strong,{children:"Git LFS"})," si es imprescindible."]}),"\n",(0,n.jsx)(i.li,{children:"Toda reescritura de historia: anuncio + plan de re\u2010sync para el equipo. "}),"\n"]})]})}function g(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>o,x:()=>l});var r=s(6540);const n={},t=r.createContext(n);function o(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);