"use strict";(self.webpackChunkatlas_site=self.webpackChunkatlas_site||[]).push([[1872],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var r=s(6540);const t={},o=r.createContext(t);function a(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(o.Provider,{value:n},e.children)}},9624:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"pocket/pocket_json_quickref","title":"JSON \u2014 quick-ref Python","description":"Prop\xf3sito","source":"@site/docs/pocket/json_quickref.md","sourceDirName":"pocket","slug":"/pocket/json_quickref","permalink":"/docs/pocket/json_quickref","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/pocket/json_quickref.md","tags":[{"inline":true,"label":"json","permalink":"/docs/tags/json"},{"inline":true,"label":"python","permalink":"/docs/tags/python"},{"inline":true,"label":"quickref","permalink":"/docs/tags/quickref"},{"inline":true,"label":"io","permalink":"/docs/tags/io"}],"version":"current","frontMatter":{"id":"pocket_json_quickref","title":"JSON \u2014 quick-ref Python","slug":"/pocket/json_quickref","module":"apendice-pocket","version":"0.1.0","status":"draft","owners":["atlas-core"],"tags":["json","python","quickref","io"],"source_repo":"<repo-url>","source_path":"docs/pocket/json_quickref.md"},"sidebar":"tutorialSidebar","previous":{"title":"merge_jsons (series Q)","permalink":"/docs/pocket/json_deep_merge_qseries"},"next":{"title":"JSON style \u2014 color & scale (Mapbox)","permalink":"/docs/pocket/json_style_color_mapbox"}}');var t=s(4848),o=s(8453);const a={id:"pocket_json_quickref",title:"JSON \u2014 quick-ref Python",slug:"/pocket/json_quickref",module:"apendice-pocket",version:"0.1.0",status:"draft",owners:["atlas-core"],tags:["json","python","quickref","io"],source_repo:"<repo-url>",source_path:"docs/pocket/json_quickref.md"},i=void 0,c={},l=[{value:"Prop\xf3sito",id:"prop\xf3sito",level:2},{value:"Cargar y acceder (patr\xf3n m\xednimo)",id:"cargar-y-acceder-patr\xf3n-m\xednimo",level:2},{value:"Variantes \xfatiles",id:"variantes-\xfatiles",level:3},{value:"Contrato m\xednimo (lectura segura)",id:"contrato-m\xednimo-lectura-segura",level:2},{value:"Anti-patrones frecuentes",id:"anti-patrones-frecuentes",level:2},{value:"QA r\xe1pido",id:"qa-r\xe1pido",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"prop\xf3sito",children:"Prop\xf3sito"}),"\n",(0,t.jsxs)(n.p,{children:["Cargar un JSON, navegar anidamientos comunes y rescatar claves sin romper el pipeline. (Ver tambi\xe9n: ",(0,t.jsx)(n.strong,{children:"/metodos/etl_json_policies"})," para contratos y serializaci\xf3n.)"]}),"\n",(0,t.jsx)(n.h2,{id:"cargar-y-acceder-patr\xf3n-m\xednimo",children:"Cargar y acceder (patr\xf3n m\xednimo)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import json\nfrom pathlib import Path\n\n# 1) Cargar desde archivo\nwith Path("path/to/file.json").open("r", encoding="utf-8") as f:\n    data = json.load(f)\n\n# 2) Acceso directo a claves anidadas (ejemplo t\xedpico)\ndesired = data["true"]["Total"]["mean"]["data"]\n\n# 3) Acceso defensivo (evita KeyError y documenta defaults)\nd_true   = data.get("true", {})\nd_total  = d_true.get("Total", {})\nd_mean   = d_total.get("mean", {})\ndesired2 = d_mean.get("data", [])\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Este patr\xf3n resume tus ejemplos de acceso anidado en estructuras tipo ",(0,t.jsx)(n.code,{children:'data["true"]["Total"]["mean"]["data"]'}),". "]}),"\n",(0,t.jsx)(n.h3,{id:"variantes-\xfatiles",children:"Variantes \xfatiles"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"json.loads"})})," si la fuente es una ",(0,t.jsx)(n.strong,{children:"cadena"})," (no un archivo)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Encoding"}),": fuerza ",(0,t.jsx)(n.code,{children:"utf-8"})," para evitar sorpresas en contenedores."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tipos num\xe9ricos"}),": valida que los n\xfameros entren como ",(0,t.jsx)(n.code,{children:"int/float"})," (no strings)."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"contrato-m\xednimo-lectura-segura",children:"Contrato m\xednimo (lectura segura)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Estructura esperada"})," documentada en la ficha (ruta/clave ra\xedz)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Defaults expl\xedcitos"})," en ",(0,t.jsx)(n.code,{children:".get()"})," para listas/dicts vac\xedos."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Errores claros"}),": encapsul\xe1 el acceso en una funci\xf3n que levante ",(0,t.jsx)(n.code,{children:"ValueError"})," con contexto si falta una clave cr\xedtica."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"anti-patrones-frecuentes",children:"Anti-patrones frecuentes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Encadenar ",(0,t.jsx)(n.code,{children:"[...]"})," sin checks"]})," \u2192 rompe ante faltantes (prefer\xed ",(0,t.jsx)(n.code,{children:".get"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Modificar ",(0,t.jsx)(n.code,{children:"data"})," in-place"]})," durante iteraciones profundas \u2192 hac\xe9 copias locales o compon\xe9 un nuevo dict."]}),"\n",(0,t.jsx)(n.li,{children:"Exponer paths absolutos o sensibles en logs."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"qa-r\xe1pido",children:"QA r\xe1pido"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"assert isinstance(desired, (list, dict))"})," seg\xfan contrato."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sum(1 for _ in json.dumps(data))"})," no deber\xeda explotar; si falla, revisa serializaci\xf3n (ver ",(0,t.jsx)(n.strong,{children:"etl_json_policies"}),")."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);